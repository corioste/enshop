{% extends "templates/web.html" %}

{% block content %}
<style>
  .enshop-section {
    margin-top: 3rem;
  }

  .enshop-section__header {
    display: flex;
    align-items: center;
    padding: 0 1rem;
    height: 3rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
  }

  .enshop-section__header__title {
    font-size: 1rem;
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: 0;
    color: rgba(0, 0, 0, 0.5);
  }

  .enshop-section__content {
    display: flex;
    border: 1px solid rgba(0, 0, 0, 0.125);
  }

  .enshop-section__content__col {
    flex: 1;
    border-right: 1px solid rgba(0, 0, 0, 0.125);
    padding: 1rem;
  }

  .enshop-section__content__col:last-child {
    border-right: 0;
  }

  a.enshop-section__content__col:hover {
    text-decoration: none;
  }

  .enshop-section__content__col .text {
    margin-top: 1rem;
    font-size: 1.125rem;
    font-weight: bold;
    color: #555;
  }

  .card-body-image {
    width: 200px;
    height: 200px;
    margin: 0 auto;
  }

  .card-body-text {
    margin-top: 1rem;
    text-align: center;
    font-weight: bold;
  }

  .web-footer {
    margin-top: 3rem;
  }
</style>


<main>
  <div class="container">
    <div class="row">
      <div class="input-group input-group-sm mb-3" style="padding-top: 20px;">
        <input type="home-search" class="form-control" placeholder="{{_('Search')}}"
          aria-label="{{_('Product Search')}}" aria-describedby="product-search"
          value="{{ frappe.form_dict.search or '' }}">
      </div>
    </div>
    <div id="carousel" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        {% for row in range(0,banner|length) %}
        {% if row == 0 %}
        <li data-target="#carousel" data-slide-to="{{row}}" class="active"></li>
        {% else %}
        <li data-target="#carousel" data-slide-to="{{row}}"></li>
        {% endif %}
        {% endfor %}
      </ol>
      <div class="carousel-inner">
        {% for row in range(0,banner|length) %}
        {% if row == 0 %}
        <div class="carousel-item active">
          <img class="d-block w-100" src="{{banner[row].imageurl}}">
        </div>
        {% else %}
        <div class="carousel-item">
          <img class="d-block w-100" src="{{banner[row].imageurl}}">
        </div>
        {% endif %}
        {% endfor %}
      </div>
      <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  <div class="container">
    <div class="card enshop-section">
      <div class="enshop-section__header">
        <h3 class="enshop-section__header__title">Most Popular</h3>
      </div>
      {% for row in range(0,most_popular_cards|length,3) %}
      <div class="enshop-section__content">
        {% for most_popular_card in range(row,most_popular_cards|length) %}

        {% set card_limit = 0 + loop.index%}
        {% if card_limit <= 3 %} <a class="enshop-section__content__col"
          href="{{ most_popular_cards[most_popular_card].hyperlink }}">
          <div style="height: 88%;">
            <img class="img-responsive" src="{{  most_popular_cards[most_popular_card].imageurl }}">
          </div>
          <div class="text">
            {{ most_popular_cards[most_popular_card].label }}
          </div>
          </a>
          {% endif %}
          {% endfor %}
      </div>
      {% endfor %}
    </div>
    <div class="card enshop-section">
      <div class="enshop-section__header">
        <h3 class="enshop-section__header__title">Item Groups</h3>
      </div>
      {% for row in range(0,featured_item_group|length,3) %}
      <div class="enshop-section__content">
        {% for featured_item_group_index in range (row,featured_item_group|length) %}
        {% set card_limiter = 0 + loop.index%}
        {% if card_limiter <= 3 %} <a class="enshop-section__content__col"
          href="categories?item_group={{featured_item_group[featured_item_group_index].label}}">
          <div style="height: 88%;">
            <img class="img-responsive" src="{{ featured_item_group[featured_item_group_index].imageurl }}">
          </div>
          <div class="text">
            {{ featured_item_group[featured_item_group_index].label }}
          </div>
          </a>
          {%endif%}
          {% endfor %}
      </div>
      {% endfor %}
    </div>
  </div>
</main>
{% endblock %}